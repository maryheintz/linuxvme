#include <stdio.h>#include <math.h>static struct {int month;               int day;               int hour;               int min;               int nev[6];               double ped[6];               int dc[6][20];               double volts[6][20];               double v00[6];               double v10[6];               double v01[6];               double rad;} intgs;char xstring[80],ystring[80],string[80],err[80];int year,month,day,hour,min,sec;int lyear,lmonth,lday,lhour,lmin,lsec;main()  { FILE *fp_int;    int ntotal=0,n,i,nwds,ierr,max[6],del[6],gain,dacmax,isw[6],cardno;    double dac;    double dmin,rad;    printf("input - card number\n");    fscanf(stdin,"%d",&cardno);    sprintf(string,"/z5/int%d.dat",cardno);    fp_int = fopen(string,"r");    max[0]=640;    max[1]=240;    max[2]=160;    max[3]=120;    max[4]=80;    max[5]=48;    del[0]=40;    del[1]=20;    del[2]=8;    del[3]=8;    del[4]=4;    del[5]=4;    isw[0]=1;    isw[1]=2;    isw[2]=0;    isw[3]=4;    isw[4]=8;    isw[5]=0xc;    dotzro();    for(gain=0;gain<6;gain++)      { dacmax = max[gain];        dotset(gain,(double)dacmax,0.0,12.0,0.0,0,0);        sprintf(xstring,"isw=%x xaxis=dac value",isw[gain]);        sprintf(ystring,"yaxis=volts");        dotlbl(gain,xstring,ystring);       }next:    nwds = fread(&intgs.month,4,432,fp_int);    ierr = feof(fp_int);    if(ierr != 0) goto done;    ntotal++;/*    printf(" event=%d  nwds=%d  %d/%d  %d:%d\n",ntotal,nwds,       intgs.month,intgs.day,intgs.hour,intgs.min);  */    dac=0;    for(gain=0;gain<6;gain++)      { n = intgs.nev[gain];        for(i=0;i<=n;i++)                 { dotacc(gain,(double)intgs.dc[gain][i],intgs.volts[gain][i]);          }      }   goto next;done:    dotmwr(6,0,5);    printf("done\n");  }
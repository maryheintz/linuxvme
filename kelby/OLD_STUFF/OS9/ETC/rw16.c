#include <stdio.h>main(){    short *adr;   long j,k,kk,mode;   unsigned short value,kshort,kkshort;   printf(" enter mode \n");   printf("   0-read/write with printout\n");   printf("   1-read/write with no printout\n");   printf("   2-read only with printout\n");   printf("   3-read only with no printout\n");   printf("   4-write only with printout\n");   printf("   5-write only with no printout\n");   printf("   6-read only sequential addresses\n");   fscanf(stdin,"%x",&mode);   printf(" mode=%x\n",mode);   printf(" enter addr\n");   fscanf(stdin,"%x",&k);   printf("   addr=%x\n",k);   adr = (short *)k;   FPermit(k,100,3);   if((mode == 0) || (mode == 1) || (mode == 4) || (mode == 5))   { printf(" enter value to be written\n");     fscanf(stdin,"%x",&kk);     kshort = (short)kk; }   if(mode == 6) goto loop2;loop: sleep(1);/*  print before write ?  */   if((mode == 0) || (mode == 4)) {printf(" writing %x\n",kshort);}/*  write ? */   if((mode == 0) || (mode == 1) || (mode == 4) || (mode == 5)){*adr=kshort;}/*  read ? */   if((mode == 0) || (mode == 1) || (mode == 2) || (mode == 3)) {kkshort = *adr;}/* print read value ? */   if((mode == 0) || (mode == 2))    { printf(" %x read back from addr %x\n",kkshort,(int)adr);}   if(k != 0x5f5f5f5f) {goto loop;}   return(0); loop2:   printf(" enter length in hex\n");   fscanf(stdin,"%d%",&k);   k = (k<<4);   for(j=0;j<k;j++)     { value=*adr;       printf("j=%d  addr=%x  value=%x\n",j,(unsigned int)adr,value);       adr++; }    return(0);}
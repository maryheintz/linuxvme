#include <stdio.h>main(){    int *adr;   long status,j,k,kk,l,c,mode;   unsigned long value;   printf(" enter mode \n");   printf("   0-read/write with printout\n");   printf("   1-read/write with no printout\n");   printf("   2-read only with printout\n");   printf("   3-read only with no printout\n");   printf("   4-write only with printout\n");   printf("   5-write only with no printout\n");   printf("   6-read only sequential addresses\n");   c=getchar();   mode=c-'0';   c=getchar(); /* get the \n */   printf(" mode=%d\n",mode);/* convert an input string represention a hex address */   printf(" enter addr\n");   k = 0;   while((c = getchar()) != '\n'){      if(c<='9'&&c>='0') l=c-'0';     if(c>='a'&&c<='f') l=c-'a'+10;     if(c>='A'&&c<='F') l=c-'A'+10;     k = (k<<4)|l; }/* print the decoded address */   printf("   addr=%x\n",k);   adr = (int *)k;   if((mode == 0) || (mode == 1) || (mode == 4) || (mode == 5))   {   printf(" enter value to be written\n");   k = 0;   while((c = getchar()) != '\n'){      if(c<='9'&&c>='0') l=c-'0';     if(c>='a'&&c<='f') l=c-'a'+10;     if(c>='A'&&c<='F') l=c-'A'+10;     k = (k<<4)|l; }   }   if(mode == 6) goto loop2;loop: /*  print before write ?  */   if((mode == 0) || (mode == 4)) {printf(" writing %x\n",k);}/*  write ? */   if((mode == 0) || (mode == 1) || (mode == 4) || (mode == 5)){*adr=k;}/*  read ? */   if((mode == 0) || (mode == 1) || (mode == 2) || (mode == 3)) {kk = *adr;}/* print read value ? */   if((mode == 0) || (mode == 2)){     printf(" %x read back from addr %x\n",kk,(int)adr);}   if(k != 0x5f5f5f5f) {goto loop;}   return(0); loop2:   printf(" enter length in hex\n");   k = 0;   while((c = getchar()) != '\n'){      if(c<='9'&&c>='0') l=c-'0';     if(c>='a'&&c<='f') l=c-'a'+10;     if(c>='A'&&c<='F') l=c-'A'+10;     k = (k<<4)|l; }   for(j=0;j<k;j++){      value=*adr;      printf("j=%d  addr=%x  value=%x\n",j,(unsigned int)adr,value);      adr++; }      return(0);}
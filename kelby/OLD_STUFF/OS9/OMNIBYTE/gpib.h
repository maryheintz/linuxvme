/*   TMS9914A GPIB controller registers and additional omnimodule registers*/struct block {        unsigned char   pad0;           /* 0 padding for odd only io addressess */        unsigned char   stat0;          /* 1 interrupt mask/status register 0 */        unsigned char   pad2;           /* 2  */        unsigned char   stat1;          /* 3 interrupt mask/status register 1 */        unsigned char   pad4;           /* 4  */        unsigned char   adstat;         /* 5 address status register */        unsigned char   pad6;           /* 6  */        unsigned char   busstat;        /* 7 bus status register */        unsigned char   pad8;           /* 8  */        unsigned char   address;        /* 9 address register */        unsigned char   pada;           /* a  */        unsigned char   spoll;          /* b serial poll register */        unsigned char   padc;           /* c  */        unsigned char   cmdpas;         /* d command pass through register */        unsigned char   pade;           /* e  */        unsigned char   datain;         /* f data in register */        unsigned char   pad10;          /* 10  */        unsigned char   vlatch;         /* 11 interrupt vector register */        unsigned char   pad12_20[0x21-0x12]; /*12-20  */        unsigned char   sclatch;        /*  21 system controller latch */        };struct block *gpib;/*  defines for write nmemonics of above read registers*/#define mask0   stat0#define mask1   stat1#define auxcmd  busstat#define ppoll   cmdpas#define dataout datain/*  auxiliary commands for the tms9914*/#define ton     0x8a    /* talk only */#define cton    0x0a    /*           */#define tcs     0x0d    /* take control synchronously */#define tca     0x0c    /* take contron asynchronously */#define gts     0x0b    /* go to standby */#define feoi    0x08    /* send eoi with next byte */#define lon     0x89    /* listen only */#define clon    0x09    /*             */#define sic     0x8f    /* send interface clear */#define csic    0x0f    /*                      */#define sre     0x90    /* send remote enable */#define csre    0x10    /*                    */#define swrst   0x80    /* software reset */#define cswrst  0x0     /*                *//*  multiline commands for the gpib bus*/#define MTA             0x40    /* my talk address */#define UNT             0x5f    /* untalk */#define MLA             0x20    /* my listen address */#define UNL             0x3f    /* unlisten */#define SPE             0x18    /* serial poll enable */#define SPD             0x19    /* serial poll disable */#define LLO             0x11    /* local lockout */#define DCL             0x14    /* device clear */#define SDO             0x04    /* selected clear */#define GTL             0x01    /* go to local */unsigned char status = 0;               /* saves bits read in from status register 0 */unsigned char zero = 0;                 /* used to force zero writes to hardware registers *//*  address for devices on the gpib bus*/unsigned char my_address = 0;   /* controllers address *//*  data directions*/#define DATA_IN  0#define DATA_OUT 1/*  variables to sync interrupt handlers with main code */int interrupt_done;unsigned long interrupt_status;unsigned char *int_data_pointer;unsigned long int_data_size;int int_data_dir;unsigned char bus_vector = 0xfe;                /* bus vector for scsi controller */unsigned char dma_bus_vector = 0xfd;    /* bus vector dma channel *//* * forward referenced functions *//* unsigned long as_interrupt(); */unsigned char buffer[256] = {(unsigned char)0};unsigned char *bigbuf = {(unsigned char *)0x40000};
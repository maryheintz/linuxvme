#define LF '\x0a'#define BELL '\x07'#include <stdio.h>#include <math.h>#include <time.h>char string[80],back[8000];main()  { FILE *fp;    int i,ii;    unsigned char gpib_device=13;    fp=fopen("gpib.dat","w");    gpib_reset();    printf("input gpib command\n");    fgetline(stdin, string);    printf("%s\n",string);    sendmessage(gpib_device, string );    getmessage(gpib_device, back );    for(i=0;i<100;i++)     {printf("i=%d",i);      ii=(int)back[i]&0xff;      printf(" back[i]=%x",ii);      if(ii>31 && ii<127) printf(" %c",back[i]);      printf("\n");      }     return(0);     }fgetline(fp,s)  FILE *fp;  char s[];  {int c,i,lim;   lim=80;   i=0;   while(--lim>0&&(c=getc(fp)) != EOF && c != '\n')    s[i++] =c;   s[i]='\0';   if(i<1)     i=EOF;   return(i);  }